<!DOCTYPE html>


















<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Charging Limits - Battman User Manual</title>
    <link href="../../stylesheets/apple-theme.css" rel="stylesheet">
    
    <script>var base_url = "../..";</script>
    
  </head>
  <body class="bm-body">
    <header class="bm-header bm-squircle">
      <div class="bm-header-left">
        <div class="bm-logo">⚡</div>
        <div class="bm-title-block">
          <div class="bm-site-name">Battman User Manual</div>
          <div class="bm-page-title">Charging Limits</div>
        </div>
      </div>
      <div class="bm-header-right">
        <button id="bm-nav-toggle" class="bm-toggle bm-nav-toggle" type="button">Menu</button>
        <button id="bm-theme-toggle" class="bm-toggle" type="button">Theme</button>
        <select id="bm-lang-select" class="bm-select" aria-label="Language">
          <option value="en">English</option>
          <option value="zh">简体中文</option>
        </select>
        
        <form class="bm-search" action="../../search.html">
          <input id="mkdocs-search-query" type="search" name="q" placeholder="Search" />
        </form>
        
      </div>
    </header>

    <div id="bm-nav-overlay" class="bm-nav-overlay"></div>

    <main class="bm-main">
      <aside class="bm-sidebar bm-squircle">
        <nav class="bm-nav">
          <ul class="bm-nav-list">
              <li class="bm-nav-item">
              
                <a href="../.." class="bm-nav-link">Home</a>
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Installation</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../installation/" class="bm-nav-link">iOS</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../installation/macos/" class="bm-nav-link">macOS</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Metrics</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../metrics/battery-info/" class="bm-nav-link">Battery Info</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../metrics/hardware-temperature/" class="bm-nav-link">Hardware Temperature</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../metrics/brightness/" class="bm-nav-link">Brightness</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item bm-nav-item--active">
              
                <div class="bm-nav-section">Controls</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../charging-managements/" class="bm-nav-link">Charging Managements</a>
              
            </li>
                  
                  <li class="bm-nav-item bm-nav-item--active">
              
                <a href="./" class="bm-nav-link bm-nav-link--active">Charging Limits</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../thermal-tunes/" class="bm-nav-link">Thermal Tunes</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Troubleshooting</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <div class="bm-nav-section">Battery Info</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/warning-conditions/" class="bm-nav-link">Warning Conditions</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/flags/" class="bm-nav-link">Flags</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/not-charging-reason/" class="bm-nav-link">Not Charging Reason</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/family-keys/" class="bm-nav-link">Family Codes</a>
              
            </li>
                  
                </ul>
                
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <div class="bm-nav-section">Thermals</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/thermals/unknown-screen-temperature/" class="bm-nav-link">'Unknown' Screen Temperature</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/thermals/thermal-notification-levels/" class="bm-nav-link">Thermal Notification Levels</a>
              
            </li>
                  
                </ul>
                
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <div class="bm-nav-section">Screen & Brightness</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/screen-brightness/nits-and-percentages/" class="bm-nav-link">Nits & Percentages</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/screen-brightness/brightness-backends/" class="bm-nav-link">Brightness Backends</a>
              
            </li>
                  
                </ul>
                
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Preferences</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../preferences/preferred-languages/" class="bm-nav-link">Preferred Languages</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../preferences/wiping-data/" class="bm-nav-link">Wiping Data</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <a href="../../uninstallation/" class="bm-nav-link">Uninstallation</a>
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Contributing</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../contributing/locales/" class="bm-nav-link">Locales</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../contributing/codes/" class="bm-nav-link">Codes</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Updating</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../updating/ios/" class="bm-nav-link">iOS</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../updating/macos/" class="bm-nav-link">macOS</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
          </ul>
        </nav>
      </aside>

      <article class="bm-content bm-squircle">
        <h1 id="charging-limits">Charging Limits<a class="headerlink" href="#charging-limits" title="Permanent link">&para;</a></h1>
<p>The <strong>Charging Limits</strong> configures an experimental background daemon that keeps the battery within a chosen range.</p>
<h2 id="main-concepts">Main concepts<a class="headerlink" href="#main-concepts" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Limit at (%)</strong><br />
  Target charge level where Battman stops charging.</li>
<li><strong>Resume at (%)</strong><br />
  (Optional) lower threshold where charging is allowed again.</li>
<li><strong>Drain Mode</strong> 
  Decide whether to keep A/C power or block A/C while discharging.</li>
<li><strong>Override OBC</strong><br />
  Optionally override Optimized Battery Charging when Battman is in control.</li>
</ul>
<h3 id="overriding-obc">Overriding OBC?<a class="headerlink" href="#overriding-obc" title="Permanent link">&para;</a></h3>
<p>The system shipped <code>Optimized Battery Charging</code> feature is communicating with a lower interface where controlling the device’s charging states.</p>
<p>Normally, you should avoid using Battman’s <strong>Charging Limit</strong> when you are using a calibrated and authorized genuine battery part. Apple’s OBC behaves better.</p>
<p>If you really desired to use this feacture, please notice that OBC may prevent others from changing the charging state when <strong>Override OBC</strong> is disabled.</p>
<h2 id="working-states">Working states<a class="headerlink" href="#working-states" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Allowing charge</strong> — daemon is running and letting the battery climb toward the limit.</li>
</ul>
<p align="center" style="margin-top: -0.5em; margin-bottom: 0.5em;">
  <img src="/controls/images/Battman_badge_continue.PNG" alt="Allowing charge badge" style="max-width: 30%; height: auto; display: block; margin: 0 auto;" />
</p>

<ul>
<li><strong>Blocking charge</strong> — daemon is holding charge at the limit.</li>
</ul>
<p align="center" style="margin-top: -0.5em; margin-bottom: 0.5em;">
  <img src="/controls/images/Battman_badge_stop.PNG" alt="Stopping charge badge" style="max-width: 30%; height: auto; display: block; margin: 0 auto;" />
</p>

<ul>
<li><strong>No external power</strong> — no adapter detected, so the limit cannot be enforced.</li>
</ul>
<p align="center" style="margin-top: -0.5em; margin-bottom: 0.5em;">
  <img src="/controls/images/Battman_badge_noext.PNG" alt="No external power badge" style="max-width: 30%; height: auto; display: block; margin: 0 auto;" />
</p>

<ul>
<li><strong>External power but no power</strong> — adapter is connected but not delivering power (e.g., weak cable/negotiation/scheduled).</li>
</ul>
<p align="center" style="margin-top: -0.5em; margin-bottom: 0.5em;">
  <img src="/controls/images/Battman_badge_nopwr.PNG" alt="No current badge" style="max-width: 30%; height: auto; display: block; margin: 0 auto;" />
</p>

<ul>
<li><strong>Optimized Battery Charging is in control</strong> — when running in “soft” mode which without overriding OBC, Apple’s OBC may ignore Battman’s requests. Enable “Override OBC” before starting the daemon if you need Battman to take precedence.</li>
</ul>
<p align="center" style="margin-top: -0.5em; margin-bottom: 0.5em;">
  <img src="/controls/images/Battman_badge_obc.PNG" alt="OBC badge" style="max-width: 30%; height: auto; display: block; margin: 0 auto;" />
</p>

<h2 id="warnings">Warnings<a class="headerlink" href="#warnings" title="Permanent link">&para;</a></h2>
<ul>
<li>This feature is still experimental and may now working correctly on your device.</li>
<li>This feature writes directly to system power interfaces and runs long‑lived background code.</li>
<li>Currently, Battman's "daemon" runs as a regular background process and does not use the system's <code>LaunchDaemons</code> feature. As a result, rebooting or performing an ldrestart will stop the charging limit process, and you will need to manually restart it for the feature to take effect again.</li>
</ul>
      </article>

      
      <aside class="bm-toc bm-squircle">
        <div class="bm-toc-title">On this page</div>
        <ul class="bm-toc-list">
          
          <li class="bm-toc-item">
            <a href="#charging-limits">Charging Limits</a>
            
            <ul class="bm-toc-sublist">
              
              <li class="bm-toc-subitem"><a href="#main-concepts">Main concepts</a></li>
              
              <li class="bm-toc-subitem"><a href="#working-states">Working states</a></li>
              
              <li class="bm-toc-subitem"><a href="#warnings">Warnings</a></li>
              
            </ul>
            
          </li>
          
        </ul>
      </aside>
      
    </main>

    <footer class="bm-footer">
      <div class="bm-footer-inner">
        <span>© Battman User Manual</span>
      </div>
    </footer>
    <script src="../../javascripts/apple-theme.js"></script>
    <script src="../../search/main.js"></script>
  </body>
</html>