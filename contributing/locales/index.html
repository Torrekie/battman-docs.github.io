<!DOCTYPE html>


















<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Locales - Battman User Manual</title>
    <link href="../../stylesheets/apple-theme.css" rel="stylesheet">
    
    <script>var base_url = "../..";</script>
    
  </head>
  <body class="bm-body">
    <header class="bm-header bm-squircle">
      <div class="bm-header-left">
        <div class="bm-logo">⚡</div>
        <div class="bm-title-block">
          <div class="bm-site-name">Battman User Manual</div>
          <div class="bm-page-title">Locales</div>
        </div>
      </div>
      <div class="bm-header-right">
        <button id="bm-nav-toggle" class="bm-toggle bm-nav-toggle" type="button">Menu</button>
        <button id="bm-theme-toggle" class="bm-toggle" type="button">Theme</button>
        <select id="bm-lang-select" class="bm-select" aria-label="Language">
          <option value="en">English</option>
          <option value="zh">简体中文</option>
        </select>
        
        <form class="bm-search" action="../../search.html">
          <input id="mkdocs-search-query" type="search" name="q" placeholder="Search" />
        </form>
        
      </div>
    </header>

    <div id="bm-nav-overlay" class="bm-nav-overlay"></div>

    <main class="bm-main">
      <aside class="bm-sidebar bm-squircle">
        <nav class="bm-nav">
          <ul class="bm-nav-list">
              <li class="bm-nav-item">
              
                <a href="../.." class="bm-nav-link">Home</a>
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Installation</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../installation/" class="bm-nav-link">iOS</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../installation/macos/" class="bm-nav-link">macOS</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Metrics</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../metrics/battery-info/" class="bm-nav-link">Battery Info</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../metrics/hardware-temperature/" class="bm-nav-link">Hardware Temperature</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../metrics/brightness/" class="bm-nav-link">Brightness</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Controls</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../controls/charging-managements/" class="bm-nav-link">Charging Managements</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../controls/charging-limits/" class="bm-nav-link">Charging Limits</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../controls/thermal-tunes/" class="bm-nav-link">Thermal Tunes</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Troubleshooting</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <div class="bm-nav-section">Battery Info</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/warning-conditions/" class="bm-nav-link">Warning Conditions</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/flags/" class="bm-nav-link">Flags</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/not-charging-reason/" class="bm-nav-link">Not Charging Reason</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/battery-info/family-keys/" class="bm-nav-link">Family Codes</a>
              
            </li>
                  
                </ul>
                
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <div class="bm-nav-section">Thermals</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/thermals/unknown-screen-temperature/" class="bm-nav-link">'Unknown' Screen Temperature</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/thermals/thermal-notification-levels/" class="bm-nav-link">Thermal Notification Levels</a>
              
            </li>
                  
                </ul>
                
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <div class="bm-nav-section">Screen & Brightness</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/screen-brightness/nits-and-percentages/" class="bm-nav-link">Nits & Percentages</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../troubleshooting/screen-brightness/brightness-backends/" class="bm-nav-link">Brightness Backends</a>
              
            </li>
                  
                </ul>
                
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Preferences</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../preferences/preferred-languages/" class="bm-nav-link">Preferred Languages</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../preferences/wiping-data/" class="bm-nav-link">Wiping Data</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <a href="../../uninstallation/" class="bm-nav-link">Uninstallation</a>
              
            </li>
            
              <li class="bm-nav-item bm-nav-item--active">
              
                <div class="bm-nav-section">Contributing</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item bm-nav-item--active">
              
                <a href="./" class="bm-nav-link bm-nav-link--active">Locales</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../codes/" class="bm-nav-link">Codes</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
              <li class="bm-nav-item">
              
                <div class="bm-nav-section">Updating</div>
                
                <ul class="bm-nav-children">
                  
                  <li class="bm-nav-item">
              
                <a href="../../updating/ios/" class="bm-nav-link">iOS</a>
              
            </li>
                  
                  <li class="bm-nav-item">
              
                <a href="../../updating/macos/" class="bm-nav-link">macOS</a>
              
            </li>
                  
                </ul>
                
              
            </li>
            
          </ul>
        </nav>
      </aside>

      <article class="bm-content bm-squircle">
        <h1 id="contributing-locales">Contributing Locales<a class="headerlink" href="#contributing-locales" title="Permanent link">&para;</a></h1>
<p>Battman uses standard gettext <code>.po</code> files for localization.</p>
<h2 id="folder-layout">Folder layout<a class="headerlink" href="#folder-layout" title="Permanent link">&para;</a></h2>
<ul>
<li>Project‑level <code>.po</code> and <code>.pot</code> files live under the <code>Localizations</code> directory.</li>
<li>The docs site uses language‑suffixed Markdown files (for example, <code>page.md</code> and <code>page.zh.md</code>).</li>
</ul>
<div class="codehilite"><pre><span></span><code>Battman
├── Battman
│   └── Localizations
│       ├── base.pot
│       ├── de.po
│       ├── en.po
│       ├── generate_code.sh
│       ├── zh_CN.po
│       └── ...
└── docs
    └── battman-user-manuals
        ├── docs
        │   ├── index.md
        │   ├── index.zh.md
        │   └── ...
        └── mkdocs.yml
</code></pre></div>

<h2 id="contributing-app-locales">Contributing App Locales<a class="headerlink" href="#contributing-app-locales" title="Permanent link">&para;</a></h2>
<h3 id="install-dependencies">Install Dependencies<a class="headerlink" href="#install-dependencies" title="Permanent link">&para;</a></h3>
<p>First, Make sure you have GNU Gettext tools on your device, if not, install it from your distro.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># macOS Homebrew</span>
brew<span class="w"> </span>install<span class="w"> </span>gettext
<span class="c1"># macOS MacPorts</span>
sudo<span class="w"> </span>port<span class="w"> </span>install<span class="w"> </span>gettext
<span class="c1"># Debian derived / iOS jailbroken</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>gettext
</code></pre></div>

<p>After that, you should able to use <code>xgettext</code> and <code>msgfmt</code>:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>xgettext<span class="w"> </span>--version
xgettext<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>gettext-tools<span class="o">)</span><span class="w"> </span><span class="m">0</span>.22.4
Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">1995</span>-2023<span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
License<span class="w"> </span>GPLv3+:<span class="w"> </span>GNU<span class="w"> </span>GPL<span class="w"> </span>version<span class="w"> </span><span class="m">3</span><span class="w"> </span>or<span class="w"> </span>later<span class="w"> </span>&lt;https://gnu.org/licenses/gpl.html&gt;
This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software:<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>free<span class="w"> </span>to<span class="w"> </span>change<span class="w"> </span>and<span class="w"> </span>redistribute<span class="w"> </span>it.
There<span class="w"> </span>is<span class="w"> </span>NO<span class="w"> </span>WARRANTY,<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>extent<span class="w"> </span>permitted<span class="w"> </span>by<span class="w"> </span>law.
Written<span class="w"> </span>by<span class="w"> </span>Ulrich<span class="w"> </span>Drepper.
</code></pre></div>

<h3 id="update-basepot">Update <code>base.pot</code><a class="headerlink" href="#update-basepot" title="Permanent link">&para;</a></h3>
<p>A <code>.pot</code> file is the template file for all <code>.po</code> files, make sure you always have a latest template before you actually going to create a locale.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># In Battman, we use:</span>
<span class="c1"># _: for Objective-C NSStrings</span>
<span class="c1"># _C: for C strings</span>
<span class="c1"># cond_localize_c: the actual function called by _C()</span>

<span class="nb">cd</span><span class="w"> </span>Battman/<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
rm<span class="w"> </span>-f<span class="w"> </span>./Localizations/base.pot<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
xgettext<span class="w"> </span>-v<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--keyword<span class="o">=</span>_<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--keyword<span class="o">=</span>cond_localize_c<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--keyword<span class="o">=</span>_C<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--add-comments<span class="o">=</span>TRANSLATORS<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--no-location<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--copyright-holder<span class="o">=</span><span class="s2">&quot;Torrekie &lt;me@torrekie.dev&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--package-name<span class="o">=</span><span class="s2">&quot;Battman&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--package-version<span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>cat<span class="w"> </span>./VERSION<span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="o">=</span>./Localizations/base.pot<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--from-code<span class="o">=</span>UTF-8<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="k">$(</span>find<span class="w"> </span>./<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.m&quot;</span><span class="w"> </span>-or<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.c&quot;</span><span class="w"> </span>-or<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.h&quot;</span><span class="k">)</span>
</code></pre></div>

<p>By using this command, you can generate a new <code>base.pot</code> from current Battman source codes.</p>
<h3 id="creating-po-file">Creating PO file<a class="headerlink" href="#creating-po-file" title="Permanent link">&para;</a></h3>
<p>This step is needed if Battman has not provided a <code>.po</code> file under <code>Battman/Localizations</code> for your language. If you are going to update an existing <code>.po</code> file, see <strong>Updating PO file</strong>.</p>
<p>Before actually creating a <code>.po</code> file for your desired language, please check the <strong>locale code</strong> for it.</p>
<p>A locale code used by Gettext is typically structed by:</p>
<ul>
<li>
<p>An <a href="https://www.loc.gov/standards/iso639-2/php/English_list.php">ISO 639-1</a> two-letter code (e.g., <code>en</code>, <code>fr</code>, <code>ja</code>).</p>
</li>
<li>
<p>Optional <a href="https://www.iso.org/obp/ui/#search">ISO 3166</a> two-letter region code (e.g., <code>_US</code>, <code>_CA</code>, <code>_DE</code>)</p>
</li>
</ul>
<p>For example:</p>
<ul>
<li>
<p>When you are going to create a locale file for Japanese, then the locale code is <code>ja</code>.</p>
</li>
<li>
<p>When you are going to create a locale file for English (Canada), then the locale code should be <code>en_CA</code>, where <code>en</code> refers to the language itself and the <code>_CA</code> is for its region variant.</p>
</li>
</ul>
<p>After you confirmed the locale code, you can create a <code>.po</code> file with following command:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Assume you have already in Battman/</span>
<span class="c1"># This is an example of generating a Esperanto po file</span>

<span class="nv">loc</span><span class="o">=</span><span class="s2">&quot;eo&quot;</span><span class="w"> </span><span class="c1"># Change this to your locale code</span>
msginit<span class="w"> </span>--input<span class="o">=</span>./Localizations/base.pot<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="o">=</span><span class="s2">&quot;./Localizations/</span><span class="nv">$loc</span><span class="s2">.po&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--locale<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$loc</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--no-translator
</code></pre></div>

<p>After that, you will see a new <code>.po</code> file (<code>eo.po</code> in this example) has been created:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>tree<span class="w"> </span>./Battman/Localizations/
./Battman/Localizations/
├──<span class="w"> </span>base.pot
├──<span class="w"> </span>de.po
├──<span class="w"> </span>en.po
├──<span class="w"> </span>eo.po<span class="w">               </span><span class="c1"># &lt;--- Newly created</span>
├──<span class="w"> </span>generate_code.sh
├──<span class="w"> </span>vi.po
└──<span class="w"> </span>zh_CN.po

<span class="m">1</span><span class="w"> </span>directory,<span class="w"> </span><span class="m">7</span><span class="w"> </span>files
</code></pre></div>

<p>Then you can edit <code>eo.po</code> with your preferred text editors.</p>
<h3 id="po-file-structure">PO file structure<a class="headerlink" href="#po-file-structure" title="Permanent link">&para;</a></h3>
<p>There is an <a href="https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html">official detailed documentation</a> on PO files. We are trying to describe this here in a simpler way.</p>
<p>A newly created PO file has such headers (<code>eo.po</code> in this example):</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Esperanto translations for Battman package.</span>
<span class="c1"># Copyright (C) 2025 Torrekie &lt;me@torrekie.dev&gt;</span>
<span class="c1"># This file is distributed under the same license as the Battman package.</span>
<span class="c1"># Automatically generated, 2025.</span>
<span class="c1">#</span>
<span class="nv">msgid</span> <span class="s">&quot;&quot;</span>
<span class="nv">msgstr</span> <span class="s">&quot;&quot;</span>
<span class="s">&quot;</span><span class="py">Project-Id-Version:</span><span class="s"> Battman 1.0.3.1\n&quot;</span>
<span class="s">&quot;</span><span class="py">Report-Msgid-Bugs-To:</span><span class="s"> \n&quot;</span>
<span class="s">&quot;</span><span class="py">POT-Creation-Date:</span><span class="s"> 2025-12-02 18:25+0800\n&quot;</span>
<span class="s">&quot;</span><span class="py">PO-Revision-Date:</span><span class="s"> 2025-12-02 18:25+0800\n&quot;</span>
<span class="s">&quot;</span><span class="py">Last-Translator:</span><span class="s"> Automatically generated\n&quot;</span>
<span class="s">&quot;</span><span class="py">Language-Team:</span><span class="s"> none\n&quot;</span>
<span class="s">&quot;</span><span class="py">Language:</span><span class="s"> eo\n&quot;</span>
<span class="s">&quot;</span><span class="py">MIME-Version:</span><span class="s"> 1.0\n&quot;</span>
<span class="s">&quot;</span><span class="py">Content-Type:</span><span class="s"> text/plain; charset=UTF-8\n&quot;</span>
<span class="s">&quot;</span><span class="py">Content-Transfer-Encoding:</span><span class="s"> 8bit\n&quot;</span>
<span class="s">&quot;</span><span class="py">Plural-Forms:</span><span class="s"> nplurals=2; plural=(n != 1);\n&quot;</span>
</code></pre></div>

<p>You may want to edit <code>Last-Translator</code> field to mark you were the last one who updated this locale:</p>
<div class="codehilite"><pre><span></span><code><span class="ss">&quot;Last-Translator: Torrekie &lt;me@torrekie.dev&gt;\n&quot;</span>
</code></pre></div>

<p>Then you can start translating all texts, the key-value format is basically a pair of <code>msgid</code> and <code>msgstr</code>, where <code>msgid</code> is retrieved from our source codes, for example, when we have such code:</p>
<div class="codehilite"><pre><span></span><code><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">my_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_C</span><span class="p">(</span><span class="s">&quot;Hello, world!&quot;</span><span class="p">);</span>
<span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">my_string</span><span class="p">);</span>
</code></pre></div>

<p>Your generated <code>.po</code> file will then include a segment:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">msgid</span> <span class="s">&quot;Hello, world!&quot;</span>
<span class="nv">msgstr</span> <span class="s">&quot;&quot;</span>
</code></pre></div>

<p>All you need to do is to fill the <code>msgstr</code> field, where it should be the translated string.</p>
<div class="codehilite"><pre><span></span><code><span class="nv">msgid</span> <span class="s">&quot;Hello, world!&quot;</span>
<span class="nv">msgstr</span> <span class="s">&quot;Saluton, mondo!&quot;</span>
</code></pre></div>

<p>Sometimes, you may see a <code>TRANSLATORS</code> note on a string, that indicates we have added a notice on how we handle this string. For instance, in <code>de.po</code>, we had to replace<br />
"Benutzerdefinierter" to "…" since it was too long to display on most screens.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">#. TRANSLATORS: Please ensure this string won&#39;t be longer as &quot;Custom&quot;</span>
<span class="nv">msgid</span> <span class="s">&quot;Custom&quot;</span>
<span class="nv">msgstr</span> <span class="s">&quot;…&quot;</span>
</code></pre></div>

<p>You can test your translated strings by building Battman with your newly added locales, see <strong>Running from Source</strong>.</p>
<h2 id="updating-po-file">Updating PO file<a class="headerlink" href="#updating-po-file" title="Permanent link">&para;</a></h2>
<p>You may want to update an existing PO file when you have added some new strings in Battman or a PO file appears too much outdated.</p>
<p>The procedure of updating a PO file is:</p>
<ol>
<li>Recreate <code>base.pot</code> from source (see <strong>Update base.pot</strong>).</li>
<li>Create a skeleton PO file to elsewhere from the updated <code>base.pot</code>.</li>
<li>Combine the existing PO file with the newly created skeleton.</li>
<li>Translate those newly added strings as usual.</li>
</ol>
<p>In Battman.xcodeproj, we are handling this like:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">LOCS</span><span class="o">=</span><span class="s2">&quot;zh_CN en de vi&quot;</span>
<span class="nv">LOC_BASE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PROJECT_DIR</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">PROJECT_NAME</span><span class="si">}</span><span class="s2">/Localizations&quot;</span>
<span class="nv">POT_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/base.pot&quot;</span>

<span class="k">for</span><span class="w"> </span>locs<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">$LOCS</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>msginit<span class="w"> </span>--input<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">POT_FILE</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>--output-file<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/</span><span class="nv">$locs</span><span class="s2">.po.step&quot;</span><span class="w"> </span>--locale<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$locs</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>msgmerge<span class="w"> </span>--no-location<span class="w"> </span>-N<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/</span><span class="nv">$locs</span><span class="s2">.po&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/</span><span class="nv">$locs</span><span class="s2">.po.step&quot;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/</span><span class="nv">$locs</span><span class="s2">.po.new&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>mv<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/</span><span class="nv">$locs</span><span class="s2">.po.new&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/</span><span class="nv">$locs</span><span class="s2">.po&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LOC_BASE</span><span class="si">}</span><span class="s2">/</span><span class="nv">$locs</span><span class="s2">.po.step&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>

<p>To teardown this:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Example: updating Esperanto</span>

<span class="c1"># Create a new PO skeleton without override existing PO</span>
<span class="c1"># We should then have a eo.po.step</span>
msginit<span class="w"> </span>--input<span class="o">=</span>./Localizations/base.pot<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="o">=</span>./Localizations/eo.po.step<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--locale<span class="o">=</span>eo

<span class="c1"># Merge our existing Esperanto translations with the newly created skeleton</span>
<span class="c1"># We should then have a eo.po.new</span>
msgmerge<span class="w"> </span>--no-location<span class="w"> </span>-N<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>./Localizations/eo.po<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>./Localizations/eo.po.step<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>&gt;<span class="w"> </span>./Localizations/eo.po.new

<span class="c1"># Override existing old PO file with our newly created</span>
mv<span class="w"> </span>./Localizations/eo.po.new<span class="w"> </span>./Localizations/eo.po

<span class="c1"># Delete the skeleton</span>
rm<span class="w"> </span>./Localizations/eo.po.step
</code></pre></div>

<p>The <code>eo.po</code> is now updated with newly added strings, you can then translate those new strings with your preferred text editors.</p>
      </article>

      
      <aside class="bm-toc bm-squircle">
        <div class="bm-toc-title">On this page</div>
        <ul class="bm-toc-list">
          
          <li class="bm-toc-item">
            <a href="#contributing-locales">Contributing Locales</a>
            
            <ul class="bm-toc-sublist">
              
              <li class="bm-toc-subitem"><a href="#folder-layout">Folder layout</a></li>
              
              <li class="bm-toc-subitem"><a href="#contributing-app-locales">Contributing App Locales</a></li>
              
              <li class="bm-toc-subitem"><a href="#updating-po-file">Updating PO file</a></li>
              
            </ul>
            
          </li>
          
        </ul>
      </aside>
      
    </main>

    <footer class="bm-footer">
      <div class="bm-footer-inner">
        <span>© Battman User Manual</span>
      </div>
    </footer>
    <script src="../../javascripts/apple-theme.js"></script>
    <script src="../../search/main.js"></script>
  </body>
</html>